# boot06工程简介

### 引入:

- #### Spring Web

- #### MyBatis Framework

- #### MySQL Driver

# 延伸阅读

### 1.实现异步版本商品管理系统

- #### 之前的MyBatis版本在处理商品列表时没有分离前后端的代码

- #### 为在实现异步版本的同时将前后端代码分离

  - ##### 在JS中添加与methods:{}同级的created:function(){}方法处理异步请求.

    - **created方法是Vue对象中内置的方法**
    - **当Vue对象初始化时会调用此方法通常情况下把进入页面后立即发出请求的代码写在此处**

  - ##### 在商品列表页面中将每一组商品信息添加到arr数组中,[{},{},{}...],在异步请求时之传入请求地址/select,然后等待响应Java处理返回的商品数据.

### 2.实现步骤:

- #### 处理添加商品业务.

  - ##### 将页面提交的信息封装成商品对象通过异步post请求传入,服务端执行insert()方法进行插入,无返回值

  - ##### (异步post请求传入商品对象,不接收返回)

- #### 处理商品列表:

  - ##### 需要通过点击该列表超链接时向服务器请求到数据并响应到客户端页面

    - 通过同级于methods:{}的created:function(){}方法,在方法中发出异步get请求(不传递信息),请求服务器在select()方法里调用接口中的select()方法来查询所有商品信息并返回List集合通过底层JSON转换成arr[]数组(该数组中包含多组商品信息的对象)给JS,再通过v-for遍历数组插入到指定的<td>标签内

    - ##### (异步get请求不传递,仅接收返回的List集合,该集合由每组商品对象封装而成)

  - ##### 在商品列表中添加了**删除**功能
  
    - 设置点击事件@click="del(p.id)",方法内传入要删除的商品id

    - 在methods中执行del方法传入id,添加判断,判断内容为BOM操作confim(message? : String)弹出确认框,通过用户的确认与否返回true和false,若确认删除,则进入分支处理删除操作,用异步get请求,将要删除的商品id传出,后端通过该id为条件,执行delete()方法通过@Delete(String sql)删除数据库中对应的商品

    - 删除完商品后进行BOM操作调用location.reload()方法刷新该商品列表页面
  
    - ##### (异步get请求传入商品id,不接收返回)
  
  - ##### 在商品列表中添加了**修改**商品的功能
  
    - 通过属性绑定超链接的形式,超链接?后添加了该商品的id,用户传递处理
    - 添加同级于methods:{}的created:function(){}方法,在点击修改链接后,会进入修改商品页面,并且迅速向服务器请求该商品的数据,**呈现该商品数据的页面**
      - 在此次created方法中需要获取抽象路径上一次传递过来的商品id,因此使用BOM操作location.search操作,获取路径中的?以及参数(例:?id=3),并通过异步get请求,拼接获取的?id=?,向服务器请求该id对应的商品信息(还未进行修改)
      
      - 服务器通过selectById()方法,标注请求的地址,并接收传递的id,在接口中调用selectById()方法,通过@Select(String sql)以id为条件查询数据库中该商品的信息,并以对象形式返回给JS
      
      - JS收到返回的对象后赋值给product对象,呈现该页面
      
      - ##### (异步get请求传入商品id,接收返回的该商品对象)
    - 在修改商品页面添加修改商品的按钮,添加@click="update()"方法并进行事件绑定,**执行商品修改**
      - 在methods中调用update()方法,通过异步post请求将修改后的商品信息封装到Product对象中传入
      
      - 服务器通过update()方法接收传入修改后的Product对象,并调用接口中的update()方法通过@Update(String sql)注解传入修改后的数据来执行修改
      
      - ##### (异步post请求并传入修改后的商品对象,不接收返回值)
